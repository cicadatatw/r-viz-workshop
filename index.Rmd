---
title: "æ–°èä¸­çš„è³‡æ–™åœ–è¡¨å·¥ä½œåŠï½œ`ggplot2` ç¹ªåœ–æ•™å­¸"
subtitle: "è³‡æ–™æ–°èå°ˆæ¡ˆä¸‹åˆèŒ¶"
author: "çŸ¥äº†æ–°èåœ˜éšŠ"
date: "3/19/2017"
# date: "`r Sys.Date()`"
output: 
  ioslides_presentation:
    logo: images/cicadatatw.png
    widescreen: yes
    incremental: true
---

```{r setup 0, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Getting started

---

### æ²’å®‰è£çš„äººä»Šå¤©æ‡‰è©²é€²ä¸ä¾† ğŸ˜ˆğŸ˜ˆğŸ˜ˆ

<iframe width="560" height="315" src="https://www.youtube.com/embed/fcd6zSk0yd8" frameborder="0" allowfullscreen></iframe>

---

![](http://66.media.tumblr.com/c4693e4e20811bf59390848ca70ae85d/tumblr_o4c7y7geRn1umk6azo1_1280.gif)

## Summit Suen

- Full Stack Developer / Data Scientist.
- æ–°èé›»å•†æ¨è–¦ç³»çµ±ã€è¼¿æƒ…ç›£æ§ã€é‹å‹•æ•¸æ“šåˆ†æ
- Taiwan R User Group å…±åŒä¸»æŒäººï½œ[ç¤¾ç¾¤æ´»å‹•](https://www.meetup.com/Taiwan-R/)ï½œ[èšæœƒéŒ„å½±](https://www.youtube.com/user/TWuseRGroup)
- ![](images/MVP_Logo.png)

## RStudio & R & ...

### R ecosystem ç°¡ä»‹
<img src="https://developer.r-project.org/Logo/Rlogo-1.png" height="100"/>
<img src="https://www.r-project.org/logo/Rlogo.png" height="100"/>
<img src="https://www.rstudio.com/wp-content/uploads/2014/07/RStudio-Logo-Blue-Gradient.png" height="100"/>
<img src="http://revolution-computing.typepad.com/.a/6a010534b1db25970b01b8d151ef48970c-pi" height="100"/>
<img src="http://blog.jupyter.org/content/images/2015/02/jupyter-sq-text.png" height="100"/>

<img src="http://revolution-computing.typepad.com/.a/6a010534b1db25970b01b8d18cfeeb970c-pi" width="600"/>

## RStudio æ–°æ‰‹ä¸Šè·¯

### ä¸­æ–‡ç·¨ç¢¼è¨­å®š
### Tools > Global Options > Default text encoding
<img src="images/rstudio_encoding.png" width="600"/>

## RStudio æ–°æ‰‹ä¸Šè·¯

### åˆå§‹ç’°å¢ƒ
### Tools > Global Options
<img src="images/rstudio_layout.png" width="600"/>

## RStudio æ–°æ‰‹ä¸Šè·¯

### å·¥ä½œç›®éŒ„è¨­å®š**ï¼ˆé‡è¦ï¼ï¼‰**
### `setwd('/path/where/your/data/located')`
<img src="images/rstudio_setwd.png" width="600"/>

## RStudio æ–°æ‰‹ä¸Šè·¯

### `å‘½ä»¤åˆ—`ä»‹é¢
### æ³¨æ„å‘½ä»¤åˆ—çš„ç‹€æ…‹ï¼š`>` or `+`ï¼›æ„›æƒœç”Ÿå‘½ï¼Œå¸¸ç”¨ `tab` å’Œ `?`
<img src="images/rstudio_console.png" width="450"/>
<img src="images/rstudio_console2.png" width="450"/>

## RStudio æ–°æ‰‹ä¸Šè·¯

### `ç¨‹å¼ç¢¼` ç·¨è¼¯ä»‹é¢
### é¤Šæˆåœ¨ç·¨è¼¯ç•Œé¢æ’°å¯«çš„ç¿’æ…£
<img src="images/rstudio_source.png" width="450"/>

## RStudio æ–°æ‰‹ä¸Šè·¯

### RStudio çš„<del>å¿«æ¨‚å¤¥ä¼´</del>å¿«æ·éµå€‘
[All RStudio keyboard shortcuts](https://support.rstudio.com/hc/en-us/articles/200711853-Keyboard-Shortcuts)

åŠŸèƒ½                    | Windows & Linux    | Mac
----------------------- | ------------------ | --------------------
é¡¯ç¤ºå¿«æ·éµ              | Alt+Shift+K        | Option+Shift+K
è‡ªå‹•è£œå®Œ	              | Tab or Ctrl+Space  | Tab or Command+Space
åŸ·è¡Œï¼ˆå–®è¡Œï¼é¸å–ç¯„åœï¼‰  | Ctrl+Enter         | Command+Enter
è¨»è§£ï¼ˆå–®è¡Œï¼é¸å–ç¯„åœï¼‰  | Ctrl+Shift+C       | Command+Shift+C
å­˜æ“‹                    | Ctrl+S             | Command+S
ç¸®æ’                    | Ctrl+I             | Command+I

## R åˆ°åº•æ˜¯ä»€éº¼æ±è¥¿ R {.build}

### å…ˆæŠŠ R ç•¶æˆè¨ˆç®—æ©Ÿ
```{r calculator}
1 + 1
sin(2017)
pi
```

## R åˆ°åº•æ˜¯ä»€éº¼æ±è¥¿ R {.build}

### çµ±è¨ˆæ˜¯çœ‹å®¶æœ¬é ˜
```{r statistics}
# Kolmogorov-Smirnov Tests
ks.test(iris$Sepal.Length, iris$Petal.Length)
```

## R åˆ°åº•æ˜¯ä»€éº¼æ±è¥¿ R {.build}

### çµ±è¨ˆæ˜¯çœ‹å®¶æœ¬é ˜
```{r statistics density}
plot(density(iris$Sepal.Length), xlim = range(c(iris$Sepal.Length, iris$Petal.Length)), main = "Sample PDF")
lines(density(iris$Petal.Length), col = 2)
```

## R åˆ°åº•æ˜¯ä»€éº¼æ±è¥¿ R {.build}

### A/B Testingï¼ˆåª’é«”ã€é›»å­å•†å‹™ã€æµé‡æˆé•·é§­å®¢å¿…å‚™å·¥å…·ï¼‰
- æˆ‘å€‘çš„ APP æ¨å‡ºäº†æ”¹ç‰ˆï¼Œè¦æ¯”è¼ƒæ–°èˆŠ UI åŠŸèƒ½çš„æˆæ•ˆï¼›æ–¼æ˜¯ sample äº†ä¸€ç¾¤ user è©¦ç”¨æ–°ä»‹é¢ï¼ˆåŠŸèƒ½ï¼‰
  + æ–°ä»‹é¢ï¼ˆåŠŸèƒ½ï¼‰ï¼šåœ¨  3000 é»æ“Šæœ‰ 10 å€‹è³¼è²·
  + èˆŠä»‹é¢ï¼ˆåŠŸèƒ½ï¼‰ï¼šåœ¨ 50000 é»æ“Šæœ‰ 30 å€‹è³¼è²·
- æˆ‘æ€éº¼çŸ¥é“é€™å…©ç¨®æ–¹æ³•çš„è½‰æ›ç‡ï¼ˆè³¼è²·ï¼é»æ“Šï¼‰æ˜¯ä¸æ˜¯æ˜é¡¯ä¸åŒï¼Ÿ

## R åˆ°åº•æ˜¯ä»€éº¼æ±è¥¿ R {.build}

### A/B Testingï¼ˆåª’é«”ã€é›»å­å•†å‹™ã€æµé‡æˆé•·é§­å®¢å¿…å‚™å·¥å…·ï¼‰{.build}
```{r more statistics}
# install.packages("binom")
library(binom)
# Binomial confidence intervals
binom.confint(c(10, 30), c(3000, 50000), methods = "exact")
```

# è³‡æ–™å‰è™•ç† `dplyr`

```{r child = 'rbasic.Rmd'}
```

# è³‡æ–™è¦–è¦ºåŒ– `ggplot2`

```{r child = 'ggplot2-slides/ggplot.Rmd'}
```

# æ‰‹æŠŠæ‰‹æ™‚é–“

# æ›´å¤šå­¸ç¿’è³‡æº

## Learning Materials

- [Try R](http://tryr.codeschool.com/)
- [DataCamp](https://www.datacamp.com/getting-started?step=2&track=r)
- [RStudio Cheat Sheets](https://www.rstudio.com/resources/cheatsheets/)
- [.Rddj](https://rddj.info/)
- [538 w/ R](http://blog.revolutionanalytics.com/2016/07/data-journalism-with-r-at-538.html)
- [538 on github](https://github.com/fivethirtyeight/guns-data)

# BONUS æ™‚é–“

## ç•«åœ°åœ– {.build}

- ä¸Šæ¬¡çš„çŸ¥äº†å°å­¸å ‚ Miss Monday æ•™äº†å¤§å®¶ `QGIS`
- ä½ çŸ¥é“åœ¨ R è£¡é¢ä¹Ÿå¯ä»¥ç•«åœ°åœ–å— ğŸ˜‚ğŸ˜‚ğŸ˜‚
- è®€ `shapefile` åœ°åœ–æª”ï¼ˆå¯ä»¥åœ¨ `QGIS` å…ˆè™•ç†å®Œï¼‰

<img src="images/shapefile_folder.png" height="80"/>
```{r map 0, echo=TRUE, warning=FALSE, message=FALSE}
# install.packages(c("rgdal", "ggmap"))
# brew install gdal
library(rgdal)
library(ggplot2)
library(ggmap)
shapefile <- readOGR("shapefile", "Town_MOI_1041215_C_Name_è‡ºåŒ—å¸‚")
```

## ç•«åœ°åœ– {.build}

- ä½¿ç”¨ `ggplot2::fortify()` å°‡è®€é€²ä¾†çš„ `shapefile` è½‰æ›æˆç‚º `DataFrame`
```{r map 1, echo=TRUE}
shapefile_df <- fortify(shapefile)
shapefile_df %>% head()
```

## ç•«åœ°åœ– {.build}

- ä½¿ç”¨ `ggplot2::geom_path()` ç•«åœ°åœ–
```{r map 2, echo=TRUE}
map <- ggplot() + 
  geom_path(data = shapefile_df, 
            aes(x = long, y = lat, group = group),
            color = 'gray', size = 1)
print(map)
```

## ç•«åœ°åœ– {.build}

- é‹ç”¨åº§æ¨™æŠ•å½±ä¿®æ­£ç•«å‡ºä¾†çš„åœ°åœ–
```{r map 3, echo=TRUE}
map_projected <- map + coord_map()
print(map_projected)
```

# å¤§å®¶æ°æ°ï¼ŒæœŸå¾…ä¸‹æ¬¡è¦‹é¢ï¼šï¼‰